---
layout: post
category: web
title: Try Hacking Modem
tagline: 2015-02-28
tags: [network]
---

自一月用了电信100M网络以来，虽然在线视频无压力，可下载速度总是不尽人意。

另一方面由于光猫自动拨号，家里路由处于光猫的下级网络，VPN一直建不起来。

为了改进网络，尝试破解光猫。

<!--more-->

光猫：烽火 HG 221GS

### 尝试超密登录失败

- 试了网上的各种超级密码，均无法成功登录。
- 使用光猫背面的用户名密码，登录后页面又跳转到登录页面，再次尝试登录提示该用户已登录。
- 访问地址"192.168.1.1/backupsettings.conf"，下载的文件中提示没有权限。
- 对光猫硬Reset，重置后光猫会自动注册并且配置。
- 后来想想断网后再重置，用电脑直连登录应该可以。

### 意外登录成功

- 查询公网IP，在本地PC上的浏览器输入该地址出现电信登录界面，输入光猫背面的用户名密码，登录成功！
- 试了网上的各种超级密码，依旧无法成功登录，达到一定次数后公网IP还会改变。
- 用光猫背面的用户登录后的权限极少，只能查看一些状态，设置DHCP，设置高级NAT。
- 用光猫背面的用户登录后，访问"公网地址/backupsettings.conf"，下载到配置文件。
- 查看配置文件，里面的密码不是明文，经过base64加密，而且无法找到超级管理员密码......
- 有几串密码解密后是光猫背面的密码，以及电信的拨号账户与密码。

### 设置高级NAT

- 在光猫的高级NAT开放了FTP端口、UDP 1194、及几个常用下载软件的端口到路由器上。
- 设置后电驴不再是Low IP了，BT速度也有提高。
- 在公司电脑可以成功访问到家里路由器上的FTP。

 
但是VPN却无法成功：
    
    Sat Feb 28 09:36:05 2015 [UNDEF] Inactivity timeout (--ping-restart), restarting
    Sat Feb 28 09:36:05 2015 SIGUSR1[soft,ping-restart] received, process restarting
    